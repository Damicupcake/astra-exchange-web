{
	"rules": {
		"companies": {
			".read": true,
			"$uid": {
				".write": "$uid === auth.uid",
				"products": {
					"$productId": {
						"cost": {
							".validate": "newData.isNumber() && newData.val() > 0"
						},
						"inStock": {
							".validate": "newData.isBoolean()"
						},
						"name": {
							".validate": "newData.isString()"
						}
					}
				}
			}
		},
		"transactions": {
			"$uid": {
				".read": "$uid === auth.uid",
				".write": "$uid === auth.uid",
        "$transactionId": {
          ".write": false,
          "amount": {
            ".validate": "newData.isNumber() && newData.val() > 0 && newData.val() <= root.child('users/$uid/balance').val()"
          }
        }
      }
		},
		"invoices": {
			"$uid": {
				".read": "$uid === auth.uid",
				".write": "$uid === auth.uid",
				"$invoiceId": {
					"status": {
						".validate": "newData.val() === 'pending' || newData.val() === 'declined' || newData.val() === 'accepted'"
					}
				}
			}
		},
		"users": {
			".read": true,
			"$uid": {
				".write": false
			}
		}
	}
}